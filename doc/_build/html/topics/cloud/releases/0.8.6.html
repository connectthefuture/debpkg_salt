<!DOCTYPE html>








<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Salt Cloud 0.8.6 Release Notes</title>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="google-site-verification" content="1Y-ojT3ndjxA9coB77iUDyXPWxeuQ3T4_r0j-QG6QHg" />

        
    
    <link rel="stylesheet" href="../../../_static/css/main.css">
    
    <link rel="stylesheet" href="../../../_static/basic.css">
    <link rel="stylesheet" href="../../../_static/pygments.css">

    <link rel="stylesheet" href="../../../_static/css/bootstrap.css">
    <style>
        body { padding-top: 20px; }
    </style>
    <link rel="stylesheet" href="../../../_static/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="../../../_static/css/main.css">
        
    <script>
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../../',
            VERSION:     '2014.1.4',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
        };
    </script>
    
    <script src="../../../_static/js/vendor/jquery-1.9.1.js"></script>
    
    
    <script src="../../../_static/js/vendor/bootstrap.min.js"></script>
    
    
    
    <script src="../../../_static/underscore.js"></script>
    
    
    <script src="../../../_static/doctools.js"></script>
    
        <link rel="shortcut icon" href="../../../_static/favicon.ico">
        <link rel="top" title="None" href="../../../index.html"> 
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,800italic,300,800' rel='stylesheet' type='text/css'>
        <script src="../../../_static/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
        
    </head>

    <body class="index">
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->

        
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="../../../index.html"><img src="../../../_static/images/SaltStack-Logo.png" /></a>
                    <div class="nav-collapse collapse">
    <div class="related">
        

        <ul class="nav rel-extra">
            <li>
                <a href="../../../salt-modindex.html" title="Salt Module Index">all salt modules</a>
                
            </li>
            <li>
                <a href="../../../genindex.html" title="General Index">index</a>
                
            </li> 
        </ul>
    </div>
                    </div>
                </div>
            </div>
        </div>
        

        <div class="content row-fluid">
            <div class="container">
                <div class="span12">
                    <div class="span9">
                        
  <div class="section" id="salt-cloud-0-8-6-release-notes">
<h1>Salt Cloud 0.8.6 Release Notes<a class="headerlink" href="#salt-cloud-0-8-6-release-notes" title="Permalink to this headline">¶</a></h1>
<p>Welcome to 0.8.6! This is an exciting release, especially for EC2 users. To see
what new features are available, read on.</p>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="#documentation" title="Permalink to this headline">¶</a></h2>
<p>The documentation for Salt Cloud can be found on Read the Docs:
<a class="reference external" href="http://salt-cloud.readthedocs.org">http://salt-cloud.readthedocs.org</a></p>
</div>
<div class="section" id="download">
<h2>Download<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>Salt Cloud can be downloaded and install via pypi:</p>
<p><a class="reference external" href="http://pypi.python.org/packages/source/s/salt-cloud/salt-cloud-0.8.6.tar.gz">http://pypi.python.org/packages/source/s/salt-cloud/salt-cloud-0.8.6.tar.gz</a></p>
<p>Some packages have been made available for salt-cloud and more on on their
way. Packages for Arch and FreeBSD are being made available thanks to the
work of Christer Edwards, and packages for RHEL and Fedora are being created
by Clint Savage. The Ubuntu PPA is being managed by Sean Channel. Package
availability will be announced on the salt mailing list.</p>
</div>
<div class="section" id="updated-libcloud">
<h2>Updated libcloud<a class="headerlink" href="#updated-libcloud" title="Permalink to this headline">¶</a></h2>
<p>This version of Salt Cloud now depends upon libcloud version 0.12.1. Be sure to
update your packages accordingly.</p>
</div>
<div class="section" id="salt-outputter">
<h2>Salt Outputter<a class="headerlink" href="#salt-outputter" title="Permalink to this headline">¶</a></h2>
<p>Previously, output from Salt Cloud was a mix of log output and print
statements, while the Salt outputter system has grown into a beautiful,
configurable tool. This release of Salt Cloud now takes advantage of the Salt
outputter system, making the output from the salt-cloud command much more
beautiful, easy to read, and usable from other scripts.</p>
</div>
<div class="section" id="experimental-ec2-driver">
<h2>Experimental EC2 Driver<a class="headerlink" href="#experimental-ec2-driver" title="Permalink to this headline">¶</a></h2>
<p>A new driver has been introduced for Amazon EC2, to potentially replace the
existing AWS driver. This driver contains several optimizations which have been
found to greatly improve instance creation and deployment. They also allow for
extra functionality to be added, which is not currently available in the AWS
driver. However, it should be noted that the EC2 driver is currently considered
to be experiemental. While existing AWS usage should not currently differ, it
should be expected to change between versions until it is declared stable.</p>
<p>Many of the features of this release are specific to the EC2 driver. Please
check the AWS documentation for configuration and usage of the EC2 driver.</p>
</div>
<div class="section" id="aws-ec2-rename-on-destroy">
<h2>AWS/EC2 Rename on Destroy<a class="headerlink" href="#aws-ec2-rename-on-destroy" title="Permalink to this headline">¶</a></h2>
<p>When instances on AWS are destroyed, there will be a lag between the time that
the action is sent, and the time that Amazon cleans up the instance. During this
time, the instance still retails a Name tag, which will cause a collision if the
creation of an instance with the same name is attempted before the cleanup
occurs. In order to avoid such collisions, Salt Cloud can be configured to
rename instances when they are destroyed. The new name will look something like:</p>
<div class="highlight-bash"><div class="highlight"><pre>myinstance-DEL20f5b8ad4eb64ed88f2c428df80a1a0c
</pre></div>
</div>
<p>In order to enable this, add AWS.rename_on_destroy line to the main
configuration file:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">AWS.rename_on_destroy</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">True</span>
</pre></div>
</div>
</div>
<div class="section" id="new-action-show-instance">
<h2>New Action: show_instance<a class="headerlink" href="#new-action-show-instance" title="Permalink to this headline">¶</a></h2>
<p>This action is a thin wrapper around --full-query, which displays details on a
single instance only. In an environment with several machines, this will save a
user from having to sort through all instance data, just to examine a single
instance.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>salt-cloud -a show_instance myinstance
</pre></div>
</div>
</div>
<div class="section" id="actions-vs-functions">
<h2>Actions vs Functions<a class="headerlink" href="#actions-vs-functions" title="Permalink to this headline">¶</a></h2>
<p>Salt Cloud 0.8.3 introduced the concept of provider-specific actions. However,
these actions were designed to operate on specific instances within a provider.
In order to perform calls on a provider, but not on specific instances,
functions have been added. Currently, only EC2 takes advantage of these.</p>
</div>
<div class="section" id="new-function-show-image">
<h2>New Function: show_image<a class="headerlink" href="#new-function-show-image" title="Permalink to this headline">¶</a></h2>
<p>This is a function that describes an AMI on EC2. This will give insight as to
the defaults that will be applied to an instance using a particular AMI.</p>
<div class="highlight-bash"><div class="highlight"><pre><span class="nv">$ </span>salt-cloud -f show_image ec2 <span class="nv">image</span><span class="o">=</span>ami-fd20ad94
</pre></div>
</div>
</div>
<div class="section" id="ec2-delvol-on-destroy">
<h2>EC2: delvol_on_destroy<a class="headerlink" href="#ec2-delvol-on-destroy" title="Permalink to this headline">¶</a></h2>
<p>This argument overrides the default DeleteOnTermination setting in the AMI for
the root EBS volume for an instance. Many AMIs contain 'false' as a default,
resulting in orphaned volumes in the EC2 account, which may unknowingly be
charged to the account. This setting can be added to the profile or map file
for an instance.</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">delvol_on_destroy</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">True</span>
</pre></div>
</div>
<p>This can also be set as a global setting in the EC2 cloud configuration:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">EC2.delvol_on_destroy</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">True</span>
</pre></div>
</div>
<p>The setting for this may be changed on an existing instance using one of the
following commands:</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -a delvol_on_destroy myinstance
salt-cloud -a keepvol_on_destroy myinstance
</pre></div>
</div>
</div>
<div class="section" id="ec2-termination-protection">
<h2>EC2 Termination Protection<a class="headerlink" href="#ec2-termination-protection" title="Permalink to this headline">¶</a></h2>
<p>AWS allows the user to enable and disable termination protection on a specific
instance. An instance with this protection enabled cannot be destroyed. The EC2
driver adds a show_term_protect action to the regular AWS functionality.</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -a show_term_protect mymachine
salt-cloud -a enable_term_protect mymachine
salt-cloud -a disable_term_protect mymachine
</pre></div>
</div>
</div>
<div class="section" id="ec2-alternate-endpoint">
<h2>EC2 Alternate Endpoint<a class="headerlink" href="#ec2-alternate-endpoint" title="Permalink to this headline">¶</a></h2>
<p>Normally, ec2 endpoints are build using the region and the service_url. The
resulting endpoint would follow this pattern:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">ec2.&lt;region&gt;.&lt;service_url&gt;</span>
</pre></div>
</div>
<p>This results in an endpoint that looks like:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">ec2.us-east-1.amazonaws.com</span>
</pre></div>
</div>
<p>There are other projects that support an EC2 compatibility layer, which this
scheme does not account for. This can be overridden by specifying the endpoint
directly in the main cloud configuration file:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">EC2.endpoint</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">myendpoint.example.com:1138/services/Cloud</span>
</pre></div>
</div>
</div>
<div class="section" id="ec2-volume-management">
<h2>EC2 Volume Management<a class="headerlink" href="#ec2-volume-management" title="Permalink to this headline">¶</a></h2>
<p>The EC2 driver has several functions and actions for management of EBS volumes.</p>
<div class="section" id="creating-volumes">
<h3>Creating Volumes<a class="headerlink" href="#creating-volumes" title="Permalink to this headline">¶</a></h3>
<p>A volume may be created, independent of an instance. A zone must be specified.
A size or a snapshot may be specified (in GiB). If neither is given, a default
size of 10 GiB will be used. If a snapshot is given, the size of the snapshot
will be used.</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -f create_volume ec2 <span class="nv">zone</span><span class="o">=</span>us-east-1b
salt-cloud -f create_volume ec2 <span class="nv">zone</span><span class="o">=</span>us-east-1b <span class="nv">size</span><span class="o">=</span>10
salt-cloud -f create_volume ec2 <span class="nv">zone</span><span class="o">=</span>us-east-1b <span class="nv">snapshot</span><span class="o">=</span>snap12345678
</pre></div>
</div>
</div>
<div class="section" id="attaching-volumes">
<h3>Attaching Volumes<a class="headerlink" href="#attaching-volumes" title="Permalink to this headline">¶</a></h3>
<p>Unattached volumes may be attached to an instance. The following values are
required: name or instance_id, volume_id and device.</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -a attach_volume myinstance <span class="nv">volume_id</span><span class="o">=</span>vol-12345 <span class="nv">device</span><span class="o">=</span>/dev/sdb1
</pre></div>
</div>
</div>
<div class="section" id="show-a-volume">
<h3>Show a Volume<a class="headerlink" href="#show-a-volume" title="Permalink to this headline">¶</a></h3>
<p>The details about an existing volume may be retreived.</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -a show_volume myinstance <span class="nv">volume_id</span><span class="o">=</span>vol-12345
salt-cloud -f show_volume ec2 <span class="nv">volume_id</span><span class="o">=</span>vol-12345
</pre></div>
</div>
</div>
<div class="section" id="detaching-volumes">
<h3>Detaching Volumes<a class="headerlink" href="#detaching-volumes" title="Permalink to this headline">¶</a></h3>
<p>An existing volume may be detached from an instance.</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -a detach_volume myinstance <span class="nv">volume_id</span><span class="o">=</span>vol-12345
</pre></div>
</div>
</div>
<div class="section" id="deleting-volumes">
<h3>Deleting Volumes<a class="headerlink" href="#deleting-volumes" title="Permalink to this headline">¶</a></h3>
<p>A volume that is not attached to an instance may be deleted.</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -f delete_volume ec2 <span class="nv">volume_id</span><span class="o">=</span>vol-12345
</pre></div>
</div>
</div>
</div>
<div class="section" id="managing-key-pairs-on-ec2">
<h2>Managing Key Pairs on EC2<a class="headerlink" href="#managing-key-pairs-on-ec2" title="Permalink to this headline">¶</a></h2>
<p>The EC2 driver has the ability to manage key pairs.</p>
<div class="section" id="creating-a-key-pair">
<h3>Creating a Key Pair<a class="headerlink" href="#creating-a-key-pair" title="Permalink to this headline">¶</a></h3>
<p>A key pair is required in order to create an instance. When creating a key pair
with this function, the return data will contain a copy of the private key.
This private key is not stored by Amazon, and will not be obtainable past this
point, and should be stored immediately.</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -f create_keypair ec2 <span class="nv">keyname</span><span class="o">=</span>mykeypair
</pre></div>
</div>
</div>
<div class="section" id="show-a-key-pair">
<h3>Show a Key Pair<a class="headerlink" href="#show-a-key-pair" title="Permalink to this headline">¶</a></h3>
<p>This function will show the details related to a key pair, not including the
private key itself (which is not stored by Amazon).</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -f delete_keypair ec2 <span class="nv">keyname</span><span class="o">=</span>mykeypair
</pre></div>
</div>
</div>
<div class="section" id="delete-a-key-pair">
<h3>Delete a Key Pair<a class="headerlink" href="#delete-a-key-pair" title="Permalink to this headline">¶</a></h3>
<p>This function removes the key pair from Amazon.</p>
<div class="highlight-bash"><div class="highlight"><pre>salt-cloud -f delete_keypair ec2 <span class="nv">keyname</span><span class="o">=</span>mykeypair
</pre></div>
</div>
</div>
</div>
</div>


                    </div>
    <div class="span3">
    <div>

        <p>Current Salt release: <a href="../../releases/2014.1.4.html">2014.1.4</a></p>

        <p class="muted">Docs for previous releases on
            <a href="http://salt.readthedocs.org">salt.rtfd.org</a>.</p>
  <h3><a href="../../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Salt Cloud 0.8.6 Release Notes</a><ul>
<li><a class="reference internal" href="#documentation">Documentation</a></li>
<li><a class="reference internal" href="#download">Download</a></li>
<li><a class="reference internal" href="#updated-libcloud">Updated libcloud</a></li>
<li><a class="reference internal" href="#salt-outputter">Salt Outputter</a></li>
<li><a class="reference internal" href="#experimental-ec2-driver">Experimental EC2 Driver</a></li>
<li><a class="reference internal" href="#aws-ec2-rename-on-destroy">AWS/EC2 Rename on Destroy</a></li>
<li><a class="reference internal" href="#new-action-show-instance">New Action: show_instance</a></li>
<li><a class="reference internal" href="#actions-vs-functions">Actions vs Functions</a></li>
<li><a class="reference internal" href="#new-function-show-image">New Function: show_image</a></li>
<li><a class="reference internal" href="#ec2-delvol-on-destroy">EC2: delvol_on_destroy</a></li>
<li><a class="reference internal" href="#ec2-termination-protection">EC2 Termination Protection</a></li>
<li><a class="reference internal" href="#ec2-alternate-endpoint">EC2 Alternate Endpoint</a></li>
<li><a class="reference internal" href="#ec2-volume-management">EC2 Volume Management</a><ul>
<li><a class="reference internal" href="#creating-volumes">Creating Volumes</a></li>
<li><a class="reference internal" href="#attaching-volumes">Attaching Volumes</a></li>
<li><a class="reference internal" href="#show-a-volume">Show a Volume</a></li>
<li><a class="reference internal" href="#detaching-volumes">Detaching Volumes</a></li>
<li><a class="reference internal" href="#deleting-volumes">Deleting Volumes</a></li>
</ul>
</li>
<li><a class="reference internal" href="#managing-key-pairs-on-ec2">Managing Key Pairs on EC2</a><ul>
<li><a class="reference internal" href="#creating-a-key-pair">Creating a Key Pair</a></li>
<li><a class="reference internal" href="#show-a-key-pair">Show a Key Pair</a></li>
<li><a class="reference internal" href="#delete-a-key-pair">Delete a Key Pair</a></li>
</ul>
</li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        <h3>Upcoming SaltStack Events</h3>
        <script src="http://cdn.lanyrd.net/badges/person-v1.min.js"></script>
        <div class="lanyrd-target-splat"><a href="http://lanyrd.com/profile/saltstackinc/" class="lanyrd-splat lanyrd-number-3 lanyrd-context-future" rel="me">My conferences on Lanyrd</a></div>
    </div>
    </div>
                </div>
            </div>
        </div>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
    <div class="related">
        

        <ul class="nav rel-extra">
            <li>
                <a href="../../../salt-modindex.html" title="Salt Module Index">all salt modules</a>
                
            </li>
            <li>
                <a href="../../../genindex.html" title="General Index">index</a>
                
            </li> 
        </ul>
    </div></div>
            </div>
        
            <footer>
                <div class="container">
                        <div class="row-fluid">
                                <div class="footerCol">
                                        <h4>About Us</h4>
                                        <a href="http://saltstack.com/">SaltStack</a>
                                        <a href="http://saltstack.com/about/">Leadership</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Products</h4>
                                        <a href="http://saltstack.com/enterprise/">Enterprise</a>
                                        <a href="http://saltstack.com/services/">Integration</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Services</h4>
                                        <a href="http://saltstack.com/training/">Onsite Training</a>
                                        <a href="http://saltstack.com/services/">Custom Professional Services</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Contact Us</h4>
                                        <a href="http://saltstack.com/contact/">Support</a>
                                        <a href="http://saltstack.com/contact/">Contact us</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Community</h4>
                                        <a href="http://saltstack.org">saltstack.org</a>
                                        <a href="http://docs.saltstack.org/en/latest/">Documentation</a>
<!--                                    <a href="#">Blogs</a> -->
                                </div>
                        </div>
                            <div class="row-fluid social">
<!--                                <a href="http://www.facebook.com/SaltStack"><img src="images/socialFB.png" alt="SaltStack on Facebook" /></a> -->
                                    <a href="http://twitter.com/SaltStackInc"><img src="../../../_static/images/socialTW.png" alt="SaltStack on Twitter" /></a>
                                    <a href="http://www.linkedin.com/company/salt-stack-inc"><img src="../../../_static/images/socialLI.png" alt="SaltStack on LinkedIn" /></a>
<!--                                <a href="http://plus.google.com/114449193225626631691"><img src="images/socialG+.png" alt="SaltStack on Google+" /></a> -->
                                    <a href="https://github.com/saltstack"><img src="../../../_static/images/socialGitHub.png" alt="SaltStack on Github" />
                            </div>
                </div>
            </footer>

        <script src="../../../_static/js/main.js"></script>

        <script>
            var _gaq=[['_setAccount','UA-26984928-1'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>

        <script>llactid=23943</script>
        <script src="http://t4.trackalyzer.com/trackalyze.js"></script>
    </body>
</html>