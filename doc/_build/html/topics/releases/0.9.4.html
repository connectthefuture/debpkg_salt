<!DOCTYPE html>








<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Salt 0.9.4 Release Notes</title>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="google-site-verification" content="1Y-ojT3ndjxA9coB77iUDyXPWxeuQ3T4_r0j-QG6QHg" />

        
    
    <link rel="stylesheet" href="../../_static/css/main.css">
    
    <link rel="stylesheet" href="../../_static/basic.css">
    <link rel="stylesheet" href="../../_static/pygments.css">

    <link rel="stylesheet" href="../../_static/css/bootstrap.css">
    <style>
        body { padding-top: 20px; }
    </style>
    <link rel="stylesheet" href="../../_static/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="../../_static/css/main.css">
        
    <script>
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '2014.1.7',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
        };
    </script>
    
    <script src="../../_static/js/vendor/jquery-1.9.1.js"></script>
    
    
    <script src="../../_static/js/vendor/bootstrap.min.js"></script>
    
    
    
    <script src="../../_static/underscore.js"></script>
    
    
    <script src="../../_static/doctools.js"></script>
    
        <link rel="shortcut icon" href="../../_static/favicon.ico">
        <link rel="top" title="None" href="../../index.html">
        <link rel="up" title="Release notes and upgrade instructions" href="index.html">
        <link rel="next" title="Salt 0.9.5 Release Notes" href="0.9.5.html">
        <link rel="prev" title="Salt 0.9.3 Release Notes" href="0.9.3.html"> 
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,800italic,300,800' rel='stylesheet' type='text/css'>
        <script src="../../_static/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
        
    </head>

    <body class="index">
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->

        
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="../../index.html"><img src="../../_static/images/SaltStack-Logo.png" /></a>
                    <div class="nav-collapse collapse">
    <div class="related">
        

        <ul class="nav rel-extra">
            <li>
                <a href="0.9.3.html" title="Salt 0.9.3 Release Notes">previous</a>
                
            </li>
            <li>
                <a href="0.9.5.html" title="Salt 0.9.5 Release Notes">next</a>
                
            </li>
            <li>
                <a href="../../salt-modindex.html" title="Salt Module Index">all salt modules</a>
                
            </li>
            <li>
                <a href="../../genindex.html" title="General Index">index</a>
                
            </li> 
        </ul>
    </div>
                    </div>
                </div>
            </div>
        </div>
        

        <div class="content row-fluid">
            <div class="container">
                <div class="span12">
                    <div class="span9">
                        
  <div class="section" id="salt-0-9-4-release-notes">
<h1>Salt 0.9.4 Release Notes<a class="headerlink" href="#salt-0-9-4-release-notes" title="Permalink to this headline">¶</a></h1>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">release:</th><td class="field-body">2011-11-27</td>
</tr>
</tbody>
</table>
<p>Salt 0.9.4 has arrived. This is a critical update that repairs a number of
key bugs found in 0.9.3. But this update is not without feature additions
as well! 0.9.4 adds support for Gentoo portage to the pkg module and state
system. Also there are 2 major new state additions, the failhard option and
the ability to set up finite state ordering with the <tt class="docutils literal"><span class="pre">order</span></tt> option.</p>
<p>This release also sees our largest increase in community contributions.
These contributors have and continue to be the life blood of the Salt
project, and the team continues to grow. I want to put out a big thanks to
our new and existing contributors.</p>
<div class="section" id="download">
<h2>Download!<a class="headerlink" href="#download" title="Permalink to this headline">¶</a></h2>
<p>The Salt source can be downloaded from the salt GitHub site:</p>
<p><a class="reference external" href="https://github.com/downloads/saltstack/salt/salt-0.9.4.tar.gz">https://github.com/downloads/saltstack/salt/salt-0.9.4.tar.gz</a></p>
<p>Or from PyPI:</p>
<p><a class="reference external" href="http://pypi.python.org/packages/source/s/salt/salt-0.9.4.tar.gz">http://pypi.python.org/packages/source/s/salt/salt-0.9.4.tar.gz</a></p>
<p>For instructions on how to set up Salt please see the <a class="reference internal" href="../installation/index.html#installation"><em>Installation</em></a>
instructions.</p>
</div>
<div class="section" id="new-features">
<h2>New Features<a class="headerlink" href="#new-features" title="Permalink to this headline">¶</a></h2>
<div class="section" id="failhard-state-option">
<h3>Failhard State Option<a class="headerlink" href="#failhard-state-option" title="Permalink to this headline">¶</a></h3>
<p>Normally, when a state fails Salt continues to execute the remainder of the
defined states and will only refuse to execute states that require the failed
state.</p>
<p>But the situation may exist, where you would want all state execution to stop
if a single state execution fails. The capability to do this is called
<tt class="docutils literal"><span class="pre">failing</span> <span class="pre">hard</span></tt>.</p>
<div class="section" id="state-level-failhard">
<h4>State Level Failhard<a class="headerlink" href="#state-level-failhard" title="Permalink to this headline">¶</a></h4>
<p>A single state can have a failhard set, this means that if this individual
state fails that all state execution will immediately stop. This is a great
thing to do if there is a state that sets up a critical config file and
setting a require for each state that reads the config would be cumbersome.
A good example of this would be setting up a package manager early on:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">/etc/yum.repos.d/company.repo</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">file</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">managed</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">salt://company/yumrepo.conf</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">user</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">root</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">group</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">root</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">mode</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">644</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">failhard</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">True</span>
</pre></div>
</div>
<p>In this situation, the yum repo is going to be configured before other states,
and if it fails to lay down the config file, than no other states will be
executed.</p>
</div>
<div class="section" id="global-failhard">
<h4>Global Failhard<a class="headerlink" href="#global-failhard" title="Permalink to this headline">¶</a></h4>
<p>It may be desired to have failhard be applied to every state that is executed,
if this is the case, then failhard can be set in the master configuration
file. Setting failhard in the master configuration file will result in failing
hard when any minion gathering states from the master have a state fail.</p>
<p>This is NOT the default behavior, normally Salt will only fail states that
require a failed state.</p>
<p>Using the global failhard is generally not recommended, since it can result
in states not being executed or even checked. It can also be confusing to
see states failhard if an admin is not actively aware that the failhard has
been set.</p>
<p>To use the global failhard set failhard: True in the master configuration</p>
</div>
</div>
<div class="section" id="finite-ordering-of-state-execution">
<h3>Finite Ordering of State Execution<a class="headerlink" href="#finite-ordering-of-state-execution" title="Permalink to this headline">¶</a></h3>
<p>When creating salt sls files, it is often important to ensure that they run in
a specific order. While states will always execute in the same order, that
order is not necessarily defined the way you want it.</p>
<p>A few tools exist in Salt to set up the correct state ordering, these tools
consist of requisite declarations and order options.</p>
<div class="section" id="the-order-option">
<h4>The Order Option<a class="headerlink" href="#the-order-option" title="Permalink to this headline">¶</a></h4>
<p>Before using the order option, remember that the majority of state ordering
should be done with requisite statements, and that a requisite statement
will override an order option.</p>
<p>The order option is used by adding an order number to a state declaration
with the option <cite>order</cite>:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">vim</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">pkg</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">installed</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
</pre></div>
</div>
<p>By adding the order option to <cite>1</cite> this ensures that the vim package will be
installed in tandem with any other state declaration set to the order <cite>1</cite>.</p>
<p>Any state declared without an order option will be executed after all states
with order options are executed.</p>
<p>But this construct can only handle ordering states from the beginning.
Sometimes you may want to send a state to the end of the line, to do this
set the order to last:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="l-Scalar-Plain">vim</span><span class="p-Indicator">:</span>
  <span class="l-Scalar-Plain">pkg</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">installed</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">order</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">last</span>
</pre></div>
</div>
<p>Substantial testing has gone into the state system and it is ready for real
world usage. A great deal has been added to the documentation for states and
the modules and functions available to states have been cleanly documented.</p>
<p>A number of State System bugs have also been founds and repaired, the output
from the state system has also been refined to be extremely clear and concise.</p>
<p>Error reporting has also been introduced, issues found in sls files will now
be clearly reported when executing Salt States.</p>
</div>
</div>
<div class="section" id="gentoo-support">
<h3>Gentoo Support<a class="headerlink" href="#gentoo-support" title="Permalink to this headline">¶</a></h3>
<p>Additional experimental support has been added for Gentoo. This is found in
the contribution from Doug Renn, aka nestegg.</p>
</div>
</div>
</div>


                    </div>
    <div class="span3">
    <div>

        <p>Current Salt release: <a href="2014.1.7.html">2014.1.7</a></p>

        <p class="muted">Docs for previous releases on
            <a href="http://salt.readthedocs.org">salt.rtfd.org</a>.</p>
  <h3><a href="../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Salt 0.9.4 Release Notes</a><ul>
<li><a class="reference internal" href="#download">Download!</a></li>
<li><a class="reference internal" href="#new-features">New Features</a><ul>
<li><a class="reference internal" href="#failhard-state-option">Failhard State Option</a><ul>
<li><a class="reference internal" href="#state-level-failhard">State Level Failhard</a></li>
<li><a class="reference internal" href="#global-failhard">Global Failhard</a></li>
</ul>
</li>
<li><a class="reference internal" href="#finite-ordering-of-state-execution">Finite Ordering of State Execution</a><ul>
<li><a class="reference internal" href="#the-order-option">The Order Option</a></li>
</ul>
</li>
<li><a class="reference internal" href="#gentoo-support">Gentoo Support</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="0.9.3.html"
                        title="previous chapter">Salt 0.9.3 Release Notes</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="0.9.5.html"
                        title="next chapter">Salt 0.9.5 Release Notes</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        <h3>Upcoming SaltStack Events</h3>
        <script src="http://cdn.lanyrd.net/badges/person-v1.min.js"></script>
        <div class="lanyrd-target-splat"><a href="http://lanyrd.com/profile/saltstackinc/" class="lanyrd-splat lanyrd-number-3 lanyrd-context-future" rel="me">My conferences on Lanyrd</a></div>
    </div>
    </div>
                </div>
            </div>
        </div>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
    <div class="related">
        

        <ul class="nav rel-extra">
            <li>
                <a href="0.9.3.html" title="Salt 0.9.3 Release Notes">previous</a>
                
            </li>
            <li>
                <a href="0.9.5.html" title="Salt 0.9.5 Release Notes">next</a>
                
            </li>
            <li>
                <a href="../../salt-modindex.html" title="Salt Module Index">all salt modules</a>
                
            </li>
            <li>
                <a href="../../genindex.html" title="General Index">index</a>
                
            </li> 
        </ul>
    </div></div>
            </div>
        
            <footer>
                <div class="container">
                        <div class="row-fluid">
                                <div class="footerCol">
                                        <h4>About Us</h4>
                                        <a href="http://saltstack.com/">SaltStack</a>
                                        <a href="http://saltstack.com/about/">Leadership</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Products</h4>
                                        <a href="http://saltstack.com/enterprise/">Enterprise</a>
                                        <a href="http://saltstack.com/services/">Integration</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Services</h4>
                                        <a href="http://saltstack.com/training/">Onsite Training</a>
                                        <a href="http://saltstack.com/services/">Custom Professional Services</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Contact Us</h4>
                                        <a href="http://saltstack.com/contact/">Support</a>
                                        <a href="http://saltstack.com/contact/">Contact us</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Community</h4>
                                        <a href="http://saltstack.org">saltstack.org</a>
                                        <a href="http://docs.saltstack.org/en/latest/">Documentation</a>
<!--                                    <a href="#">Blogs</a> -->
                                </div>
                        </div>
                            <div class="row-fluid social">
<!--                                <a href="http://www.facebook.com/SaltStack"><img src="images/socialFB.png" alt="SaltStack on Facebook" /></a> -->
                                    <a href="http://twitter.com/SaltStackInc"><img src="../../_static/images/socialTW.png" alt="SaltStack on Twitter" /></a>
                                    <a href="http://www.linkedin.com/company/salt-stack-inc"><img src="../../_static/images/socialLI.png" alt="SaltStack on LinkedIn" /></a>
<!--                                <a href="http://plus.google.com/114449193225626631691"><img src="images/socialG+.png" alt="SaltStack on Google+" /></a> -->
                                    <a href="https://github.com/saltstack"><img src="../../_static/images/socialGitHub.png" alt="SaltStack on Github" />
                            </div>
                </div>
            </footer>

        <script src="../../_static/js/main.js"></script>

        <script>
            var _gaq=[['_setAccount','UA-26984928-1'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>

        <script>llactid=23943</script>
        <script src="http://t4.trackalyzer.com/trackalyze.js"></script>
    </body>
</html>