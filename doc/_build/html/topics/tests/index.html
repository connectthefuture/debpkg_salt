<!DOCTYPE html>








<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title>Running The Tests</title>

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="google-site-verification" content="1Y-ojT3ndjxA9coB77iUDyXPWxeuQ3T4_r0j-QG6QHg" />

        
    
    <link rel="stylesheet" href="../../_static/css/main.css">
    
    <link rel="stylesheet" href="../../_static/basic.css">
    <link rel="stylesheet" href="../../_static/pygments.css">

    <link rel="stylesheet" href="../../_static/css/bootstrap.css">
    <style>
        body { padding-top: 20px; }
    </style>
    <link rel="stylesheet" href="../../_static/css/bootstrap-responsive.css">
    <link rel="stylesheet" href="../../_static/css/main.css">
        
    <script>
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:    '../../',
            VERSION:     '2014.1.4',
            COLLAPSE_INDEX: false,
            FILE_SUFFIX: '.html',
            HAS_SOURCE:  true
        };
    </script>
    
    <script src="../../_static/js/vendor/jquery-1.9.1.js"></script>
    
    
    <script src="../../_static/js/vendor/bootstrap.min.js"></script>
    
    
    
    <script src="../../_static/underscore.js"></script>
    
    
    <script src="../../_static/doctools.js"></script>
    
        <link rel="shortcut icon" href="../../_static/favicon.ico">
        <link rel="top" title="None" href="../../index.html">
        <link rel="next" title="Integration Tests" href="integration.html">
        <link rel="prev" title="Salt Rosters" href="../ssh/roster.html"> 
        <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,800italic,300,800' rel='stylesheet' type='text/css'>
        <script src="../../_static/js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
        
    </head>

    <body class="index">
        <!--[if lt IE 7]>
            <p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
        <![endif]-->

        <!-- This code is taken from http://twitter.github.com/bootstrap/examples/hero.html -->

        
        <div class="navbar navbar-inverse navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </a>
                    <a class="brand" href="../../index.html"><img src="../../_static/images/SaltStack-Logo.png" /></a>
                    <div class="nav-collapse collapse">
    <div class="related">
        

        <ul class="nav rel-extra">
            <li>
                <a href="../ssh/roster.html" title="Salt Rosters">previous</a>
                
            </li>
            <li>
                <a href="integration.html" title="Integration Tests">next</a>
                
            </li>
            <li>
                <a href="../../salt-modindex.html" title="Salt Module Index">all salt modules</a>
                
            </li>
            <li>
                <a href="../../genindex.html" title="General Index">index</a>
                
            </li> 
        </ul>
    </div>
                    </div>
                </div>
            </div>
        </div>
        

        <div class="content row-fluid">
            <div class="container">
                <div class="span12">
                    <div class="span9">
                        
  <div class="section" id="running-the-tests">
<h1>Running The Tests<a class="headerlink" href="#running-the-tests" title="Permalink to this headline">¶</a></h1>
<p>There are requirements, in addition to Salt's requirements, which
needs to be installed in order to run the test suite. Install one of
the lines below, depending on the relevant Python version:</p>
<div class="highlight-bash"><div class="highlight"><pre>pip install -r dev_requirements_python26.txt
pip install -r dev_requirements_python27.txt
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>In Salt 0.17, testing libraries were migrated into their own repo. To install them:</p>
<blockquote>
<div><div class="highlight-bash"><div class="highlight"><pre>pip install git+https://github.com/saltstack/salt-testing.git#egg<span class="o">=</span>SaltTesting
</pre></div>
</div>
</div></blockquote>
<p>Failure to install SaltTesting will result in import errors similar to the following:</p>
<blockquote class="last">
<div><div class="highlight-bash"><div class="highlight"><pre>ImportError: No module named salttesting
</pre></div>
</div>
</div></blockquote>
</div>
<p>Once all require requirements are set, use <tt class="docutils literal"><span class="pre">tests/runtests.py</span></tt> to
run the tests, see <tt class="docutils literal"><span class="pre">--help</span></tt> for more info.</p>
<p>And alternative way of invoking the tests is available in setup.py,
run the tests with the following command:</p>
<div class="highlight-bash"><div class="highlight"><pre>./setup.py <span class="nb">test</span>
</pre></div>
</div>
<p>Examples:</p>
<ul class="simple">
<li>Run unit tests only: <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">./tests/runtests.py</span> <span class="pre">--unit-tests</span></tt></li>
<li>Run a specific set of integration tests only: <tt class="docutils literal"><span class="pre">sudo</span> <span class="pre">./tests/runtests.py</span> <span class="pre">-n</span> <span class="pre">integration.modules.virt</span> <span class="pre">-vv</span></tt></li>
<li>Run a specific set of unit tests only: <tt class="docutils literal"><span class="pre">./tests/runtests.py</span> <span class="pre">-n</span> <span class="pre">unit.modules.virt_test</span> <span class="pre">-vv</span></tt></li>
</ul>
<div class="section" id="running-the-tests-in-a-docker-container">
<h2>Running The Tests In A Docker Container<a class="headerlink" href="#running-the-tests-in-a-docker-container" title="Permalink to this headline">¶</a></h2>
<p>If the <tt class="docutils literal"><span class="pre">runtests.py</span></tt> binary supports the <tt class="docutils literal"><span class="pre">--docked</span></tt> option flag, you can
choose to execute the tests suite under the provided <a class="reference external" href="http://www.docker.io/">docker</a> container. You
need to have your <a class="reference external" href="http://www.docker.io/">docker</a>  properly configured on your system and the
containers need to have access to the internet.</p>
<p>Here's a simple usage example:</p>
<div class="highlight-bash"><div class="highlight"><pre>tests/runtests.py --docked<span class="o">=</span>ubuntu-12.04 -v
</pre></div>
</div>
<p>You can also provide the full <cite>docker</cite> container repository:</p>
<div class="highlight-bash"><div class="highlight"><pre>tests/runtests.py --docked<span class="o">=</span>salttest/ubuntu-12.04 -v
</pre></div>
</div>
<p>The SaltStack team is creating some containers which will have the necessary
dependencies pre-installed allowing you, for example, to run the destructive
tests without making a single destructive change to your system, or, to run the
tests suite under a different distribution than the one you're currently using.</p>
<p>You can see the current list of test suite images on our <a class="reference external" href="https://index.docker.io/u/salttest/">docker repository</a>.</p>
<p>If you wish to provide your own <a class="reference external" href="http://www.docker.io/">docker</a> container, you can submit pull
requests against our <a class="reference external" href="https://github.com/saltstack/docker-salttest-containers">docker salt test containers</a> repository.</p>
</div>
</div>
<div class="section" id="writing-tests">
<h1>Writing Tests<a class="headerlink" href="#writing-tests" title="Permalink to this headline">¶</a></h1>
<p>Salt uses a test platform to verify functionality of components in a simple
way. Two testing systems exist to enable testing salt functions in somewhat
real environments. The two subsystems available are integration tests and
unit tests.</p>
<p>Salt uses the python standard library unittest2 system for testing.</p>
<div class="section" id="integration-tests">
<h2>Integration Tests<a class="headerlink" href="#integration-tests" title="Permalink to this headline">¶</a></h2>
<p>The integration tests start up a number of salt daemons to test functionality
in a live environment. These daemons include 2 salt masters, 1 syndic and 2
minions. This allows for the syndic interface to be tested and master/minion
communication to be verified. All of the integration tests are executed as
live salt commands sent through the started daemons.</p>
<ul class="simple">
<li><a class="reference internal" href="integration.html"><em>Writing integration tests</em></a></li>
</ul>
<p>Integration tests are particularly good at testing modules, states and shell
commands.</p>
</div>
<div class="section" id="unit-tests">
<h2>Unit Tests<a class="headerlink" href="#unit-tests" title="Permalink to this headline">¶</a></h2>
<p>Direct unit tests are also available, these tests are good for internal
functions.</p>
<ul class="simple">
<li><a class="reference internal" href="unit.html"><em>Writing unit tests</em></a></li>
</ul>
</div>
</div>


                    </div>
    <div class="span3">
    <div>

        <p>Current Salt release: <a href="../releases/2014.1.4.html">2014.1.4</a></p>

        <p class="muted">Docs for previous releases on
            <a href="http://salt.readthedocs.org">salt.rtfd.org</a>.</p>
  <h3><a href="../../contents.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Running The Tests</a><ul>
<li><a class="reference internal" href="#running-the-tests-in-a-docker-container">Running The Tests In A Docker Container</a></li>
</ul>
</li>
<li><a class="reference internal" href="#writing-tests">Writing Tests</a><ul>
<li><a class="reference internal" href="#integration-tests">Integration Tests</a></li>
<li><a class="reference internal" href="#unit-tests">Unit Tests</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../ssh/roster.html"
                        title="previous chapter">Salt Rosters</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="integration.html"
                        title="next chapter">Integration Tests</a></p>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>

        <h3>Upcoming SaltStack Events</h3>
        <script src="http://cdn.lanyrd.net/badges/person-v1.min.js"></script>
        <div class="lanyrd-target-splat"><a href="http://lanyrd.com/profile/saltstackinc/" class="lanyrd-splat lanyrd-number-3 lanyrd-context-future" rel="me">My conferences on Lanyrd</a></div>
    </div>
    </div>
                </div>
            </div>
        </div>
            <div class="navbar navbar-inverse navbar-fixed-top">
                <div class="container">
    <div class="related">
        

        <ul class="nav rel-extra">
            <li>
                <a href="../ssh/roster.html" title="Salt Rosters">previous</a>
                
            </li>
            <li>
                <a href="integration.html" title="Integration Tests">next</a>
                
            </li>
            <li>
                <a href="../../salt-modindex.html" title="Salt Module Index">all salt modules</a>
                
            </li>
            <li>
                <a href="../../genindex.html" title="General Index">index</a>
                
            </li> 
        </ul>
    </div></div>
            </div>
        
            <footer>
                <div class="container">
                        <div class="row-fluid">
                                <div class="footerCol">
                                        <h4>About Us</h4>
                                        <a href="http://saltstack.com/">SaltStack</a>
                                        <a href="http://saltstack.com/about/">Leadership</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Products</h4>
                                        <a href="http://saltstack.com/enterprise/">Enterprise</a>
                                        <a href="http://saltstack.com/services/">Integration</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Services</h4>
                                        <a href="http://saltstack.com/training/">Onsite Training</a>
                                        <a href="http://saltstack.com/services/">Custom Professional Services</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Contact Us</h4>
                                        <a href="http://saltstack.com/contact/">Support</a>
                                        <a href="http://saltstack.com/contact/">Contact us</a>
                                </div>
                                <div class="footerCol">
                                        <h4>Community</h4>
                                        <a href="http://saltstack.org">saltstack.org</a>
                                        <a href="http://docs.saltstack.org/en/latest/">Documentation</a>
<!--                                    <a href="#">Blogs</a> -->
                                </div>
                        </div>
                            <div class="row-fluid social">
<!--                                <a href="http://www.facebook.com/SaltStack"><img src="images/socialFB.png" alt="SaltStack on Facebook" /></a> -->
                                    <a href="http://twitter.com/SaltStackInc"><img src="../../_static/images/socialTW.png" alt="SaltStack on Twitter" /></a>
                                    <a href="http://www.linkedin.com/company/salt-stack-inc"><img src="../../_static/images/socialLI.png" alt="SaltStack on LinkedIn" /></a>
<!--                                <a href="http://plus.google.com/114449193225626631691"><img src="images/socialG+.png" alt="SaltStack on Google+" /></a> -->
                                    <a href="https://github.com/saltstack"><img src="../../_static/images/socialGitHub.png" alt="SaltStack on Github" />
                            </div>
                </div>
            </footer>

        <script src="../../_static/js/main.js"></script>

        <script>
            var _gaq=[['_setAccount','UA-26984928-1'],['_trackPageview']];
            (function(d,t){var g=d.createElement(t),s=d.getElementsByTagName(t)[0];
            g.src=('https:'==location.protocol?'//ssl':'//www')+'.google-analytics.com/ga.js';
            s.parentNode.insertBefore(g,s)}(document,'script'));
        </script>

        <script>llactid=23943</script>
        <script src="http://t4.trackalyzer.com/trackalyze.js"></script>
    </body>
</html>